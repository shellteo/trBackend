<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>太上老君，急急如令令</title>
    <link rel="shortcut icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <script type="text/javascript" src="http://cdn.webfont.youziku.com/wwwroot/js/wf/youziku.api.min.js"></script>
    <script type="text/javascript">
        //$youziku.load("body", "cb074a61481146ff90df4fe82cebfe4e", "LiDeBiao-Xing3");
        /*$youziku.load("#id1,.class1,h1", "cb074a61481146ff90df4fe82cebfe4e", "LiDeBiao-Xing3");*/
        /*．．．*/
        //$youziku.draw();
    </script>
    <style>
        body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, button, textarea, p, blockquote, th, td { margin: 0;padding: 0; }
        html,body{
            height: 100%;
            width: 100%;
        }
        body{
            /*background-image: url(bg.jpg);*/
        }
        .container{
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
        }
        .title{
            margin:30px 0 0 0;
            color: #000;
            font-size: 3rem;
        }
        .name1{
            color: #000;
            font-size: 1.5em;
        }
        .name2{
            color: #000;
            font-size: 1.2rem;
        }
        .btmImage{
            width: 200px;
            margin-bottom: 20px;
        }
        .imgBtn{
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }
        .btn{
            border: 1px solid #000000;
            padding: 5px 15px;
            text-align: center;
        }
        .footer{
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="title">大显殿灵签</div>
    <div class="name1">时来天地皆同力 运去英雄不自由</div>
    <div class="name2">结合天时地势算出此时运势</div>
    <div class="imgBtn">
        <img src="bagua.jpg"  alt="见签如命" class="btmImage"/>
        <div class="btn">摇摇签筒</div>
    </div>
    <div class="footer">摇晃手机或点击“摇摇签筒”开始预测</div>
</div>
<script>
    window.onload=function(){
        document.querySelector('.btn').addEventListener('click',function () {
            console.log('123');
            window.location.href='/1';
        })
        let SHAKE_THRESHOLD = 6000;
        let last_update = 0;
        let x, y, z, last_x, last_y, last_z;
        function deviceMotionHandler(eventData) {
            let acceleration = eventData.accelerationIncludingGravity;
            let curTime = new Date().getTime();

            if ((curTime - last_update) > 100) {
                let diffTime = curTime - last_update;
                last_update = curTime;
                x = acceleration.x;
                y = acceleration.y;
                z = acceleration.z;
                let speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;

                if (speed > SHAKE_THRESHOLD) {
                    window.location.href='/1';
                }
                last_x = x;
                last_y = y;
                last_z = z;
            }
        }

        if (window.DeviceMotionEvent) {
            window.addEventListener('devicemotion',deviceMotionHandler, false);
        } else {
            alert('不支持摇晃签筒，请点击摇摇签筒');
        }
    }
</script>
</body>
</html>